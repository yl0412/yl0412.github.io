<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>麦克风权限申请</title>
    <script src="https://unpkg.com/vconsole@latest/dist/vconsole.min.js"></script>
  </head>
  <body>
    <button id="requestMicButton">请求麦克风权限</button>
    <script>
      // VConsole will be exported to `window.VConsole` by default.
      var vConsole = new window.VConsole();
    </script>

    <script>
      console.log(`\x1B[1m\x1B[32m[🐑🐑🐑][2025-02-24 17:48:12] navigator.mediaDevices-->`, navigator.mediaDevices, navigator.mediaDevices.getUserMedia);
      document.getElementById('requestMicButton').addEventListener('click', async () => {
        navigator.mediaDevices
          .getUserMedia({ audio: true })
          .then((stream) => {
            alert('麦克风权限已申请成功');
          })
          .catch((error) => {
            console.error(`error-->`, error);
            alert(`麦克风权限申请失败${JSON.stringify(error)}`);
          });
      });
    </script>
  </body>
</html>
